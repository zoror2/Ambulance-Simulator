<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>IoT Ambulance Dashboard</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css"
    />
    <link rel="stylesheet" href="/style.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <script src="https://unpkg.com/leaflet-polylinedecorator@1.6.0/dist/leaflet.polylineDecorator.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    <div id="topbar">
      <h1>ğŸš‘ IoT Ambulance Traffic Clearance System</h1>
    </div>

    <div id="map"></div>

    <div id="panel">
      <h2>ğŸ¥ Hospitals (<span id="hospitalCount">0</span>)</h2>
      <button id="discoverBtn" onclick="discoverHospitals()">
        ğŸ” Discover Nearby Hospitals
      </button>
      <div
        id="discoveryStatus"
        style="font-size: 12px; margin-top: 8px; color: #666"
      ></div>
      <div
        id="hospitalList"
        style="
          max-height: 150px;
          overflow-y: auto;
          margin-top: 10px;
          border: 1px solid #ddd;
          padding: 6px;
          border-radius: 4px;
        "
      ></div>

      <h2>ğŸš¦ Traffic Lights Status</h2>
      <ul id="lightsList"></ul>

      <h2>ğŸš‘ Active Ambulances</h2>
      <ul id="ambulanceList"></ul>
    </div>

    <script src="/map-client.js"></script>
  </body>
</html>
